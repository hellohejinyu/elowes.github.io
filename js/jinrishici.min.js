/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/jinrishici@1.0.6/jinrishici.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const keyName = 'jinrishici-token'; function load (e, n) { return window.localStorage && window.localStorage.getItem(keyName) ? commonLoad(e, n, window.localStorage.getItem(keyName)) : corsLoad(e, n) } function corsLoad (e, n) { return sendRequest(function (n) { window.localStorage.setItem(keyName, n.token), e(n) }, n, 'https://v2.jinrishici.com/one.json?client=npm-sdk/1.0') } function commonLoad (e, n, o) { return sendRequest(e, n, 'https://v2.jinrishici.com/one.json?client=npm-sdk/1.0&X-User-Token=' + encodeURIComponent(o)) } function sendRequest (e, n, o) { const t = new XMLHttpRequest(); t.open('get', o), t.withCredentials = !0, t.send(), t.onreadystatechange = function () { if (t.readyState === 4) { const o = JSON.parse(t.responseText); o.status === 'success' ? e(o) : n ? n(o) : console.error('今日诗词API加载失败，错误原因：' + o.errMessage) } } } export { load }
